---
title: "docker 정리"
excerpt: "생활코딩의 docker 정리"
categories:
    - docker
tags:
    - docker
last_modified_at: 2023-5-4T00:00:00+09:00
toc: true
toc_sticky: true
---

## 생활코딩
`생활코딩`의 docker 수업을 base로 정리하였습니다.
[생활코딩 Docker 입구 수업](https://opentutorials.org/course/4781)
[생활코딩 서말](https://seomal.com/map/1/129)


## 설치
<https://docs.docker.com/desktop/install/windows-install/>

## Docker CLI
`<example>` CLI의 `[]` 부분은 CLI에서 생략 가능한 Optional 임을 표현하기 위해 표기했습니다. 실제로는 CLI 입력시 `[]`은 없어야 합니다.
### image pull
<https://hub.docker.com/> 에서 image를 다운로드 받습니다.
```sh
docker pull [OPTIONS] NAME[:TAG|@DIGEST]

<example>
docker pull httpd
```

### container run
pull로 다운로드 받은 image를 container로 실행합니다.
```sh
docker run [OPTIONS] IMAGE [COMMAND] [ARG...]

<example>
docker run [--name ws1] httpd
```

### container List
`container` 목록 조회
```sh
docker ps [OPTIONS]

<example>
docker ps [-a]
```

### container process 중지
실행된 container를 중지합니다.
```sh
docker stop [OPTIONS] CONTAINER [CONTAINER...]

<example>
docker stop ws1
```

### container process 실행
중지된 container를 실행합니다.
이때는 `run`과는 다르게 log가 출력되지 않습니다.
```sh
docker start [OPTIONS] CONTAINER [CONTAINER...]

<example>
docker start ws1
```

### container logs
`start`된 container의 `log`를 출력합니다.
```sh
docker logs [OPTIONS] CONTAINER

<example>
docker logs [-f] ws1
```

### container 삭제
`container`를 삭제합니다.
```sh
docker rm [OPTIONS] CONTAINER [CONTAINER...]

<example>
docker rm ws1
```

### image 삭제
`image`를 삭제합니다.
```sh
docker rmi [OPTIONS] IMAGE [IMAGE...]

<example>
docker rmi httpd
```

## 네트워크
### port forwarding
docker의 `Host`와 `Container`의 port를 연결합니다.
```sh
<example>
docker run [--name ws1 -p 8080:80] httpd
// Host 8080 port를 Container 80 port와 연결합니다.
```

## Container 안에서 명령어 실행
### exec
```sh
docker exec [OPTIONS] CONTAINER COMMAND [ARG...]

<example>
docker exec ws1 pwd
docker exec ws1 ls
docker exec [-it] ws1 /bin/sh
docker exec [-it] ws1 /bin/bash
```

## Host와 Container의 File System 연결
### exec
```sh
<example>
docker run [--name ws1 -p 8080:80 -v ~/Desktop/htdocs:/usr/local/apache2/htdocs] httpd
<window cmd example>
D:\dev\docker\desktop>docker run --name ws1 -p 8080:80 -v .\htdocs:/usr/local/apache2/htdocs httpd
```
